doctype html
html
  head
    title Snallabot Dashboard
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossOrigin="anonymous")
  body
    .div(class="container")
      h4 #{leagueName} Snallabot Dashboard
      .row
        .col
          div
            div #{seasonType}, Year #{seasonInfo.calendarYear}
            div Current Week: #{seasonInfo.weekTitle} #{seasonInfo.displayWeek > 0 ? seasonInfo.displayWeek : ''}
        .col-lg-6
          div
            .input-group
              select.form-select(value=state.exportOption, onChange=(e) => setState(s => ({ ...s, exportOption: e.target.value })))
                each key in Object.keys(exportWeeks)
                  option(key=key, value=key) #{key}
              button.btn.btn-primary(type="button", onClick=onExport) Export
        .col.mt-lg-3
          button.btn.btn-danger.float-end(type="button", onClick=unlinkLeague) Unlink League
      .table-responsive
        table.table.table-hover.table-sm.caption-top
          caption List of Export Url's
          thead.table-light
            tr
              th Url
              th League Info
              th Weekly Stats
              th Rosters
              th Auto Update
              th
                button.btn.btn-success(type="button", onClick=addExport) Add Export Url
          tbody
            each exportDestination, i in exports
                tr(key=i)
                  td #{exportDestination.url}
                  td
                    input(type="checkbox", disabled=true, checked=exportDestination.leagueInfo)
                  td
                    input(type="checkbox", disabled=true, checked=exportDestination.weeklyStats)
                  td
                    input(type="checkbox", disabled=true, checked=exportDestination.rosters)
                  td
                    input(type="checkbox", disabled=true, checked=exportDestination.autoUpdate)
                  td
                    div
                      div
                        ❌
      .table-responsive
        table(class="table table-hover table-condensed caption-top")
          caption Schedule for #{seasonInfo.weekTitle} #{seasonInfo.displayWeek > 0 ? seasonInfo.displayWeek : ''}
          thead.table-light
            tr
              th Game
              th Result
              th Number of Times Played
          tbody
            each seasonGame in gameScheduleHubInfo.leagueSchedule
              - const game = seasonGame.seasonGameInfo
              tr(key=seasonGame.seasonGameKey)
                td #{game.isAwayHuman ? game.awayUserName : 'CPU'} #{game.awayCityName} #{game.awayName} (#{game.awayWin} - #{game.awayLoss}#{game.awayTie > 0 ? ' - ' + game.awayTie : ''}) at #{game.isHomeHuman ? game.homeUserName : 'CPU'} #{game.homeCityName} #{game.homeName} (#{game.homeWin} - #{game.homeLoss}#{game.homeTie > 0 ? ' - ' + game.homeTie : ''})
                td #{game.result || 'Not Played'}
                td #{game.numberTimesPlayed || 0}
